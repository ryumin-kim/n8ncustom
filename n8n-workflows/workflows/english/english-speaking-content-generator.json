{
  "name": "영어회화 콘텐츠 자동생성",
  "nodes": [
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "={\n  \"dataset\": [\n    {\n      \"index\": 0,\n      \"sentence\": \"{{ $json.message.content.conversation[0].sentence }}\",\n      \"ko_sentence\": \"{{ $json.message.content.conversation[0].ko_sentence }}\",\n      \"character_name\": \"{{ $json.message.content.conversation[0].charactor_name }}\",\n      \"gender\": \"{{ $json.message.content.conversation[0].gender }}\",\n      \"audio_path\": \"tts/{{ $json.message.content.conversation[0].sentence.replace(/[^a-z0-9 ]/g, '').replace(/\\s+/g, '_') }}.mp3\"\n    },\n    { \n      \"index\": 1,\n      \"sentence\": \"{{ $json.message.content.conversation[1].sentence }}\",\n      \"ko_sentence\": \"{{ $json.message.content.conversation[1].ko_sentence }}\",\n      \"character_name\": \"{{ $json.message.content.conversation[1].charactor_name }}\",\n \"gender\": \"{{ $json.message.content.conversation[1].gender }}\",\n      \"audio_path\": \"tts/{{ $json.message.content.conversation[1].sentence.replace(/[^a-z0-9 ]/g, '').replace(/\\s+/g, '_') }}.mp3\"\n    },\n    {\n      \"index\": 2,\n      \"sentence\": \"{{ $json.message.content.conversation[2].sentence }}\",\n      \"ko_sentence\": \"{{ $json.message.content.conversation[2].ko_sentence }}\",\n      \"character_name\": \"{{ $json.message.content.conversation[2].charactor_name }}\",\n \"gender\": \"{{ $json.message.content.conversation[2].gender }}\",\n      \"audio_path\": \"tts/{{ $json.message.content.conversation[2].sentence.replace(/[^a-z0-9 ]/g, '').replace(/\\s+/g, '_') }}.mp3\"\n    },\n    {\n      \"index\": 3,\n      \"sentence\": \"{{ $json.message.content.conversation[3].sentence }}\",\n      \"ko_sentence\": \"{{ $json.message.content.conversation[3].ko_sentence }}\",\n      \"character_name\": \"{{ $json.message.content.conversation[3].charactor_name }}\",\n \"gender\": \"{{ $json.message.content.conversation[3].gender }}\",\n      \"audio_path\": \"tts/{{ $json.message.content.conversation[3].sentence.replace(/[^a-z0-9 ]/g, '').replace(/\\s+/g, '_') }}.mp3\"\n    },\n    {\n      \"index\": 4,\n      \"sentence\": \"{{ $json.message.content.conversation[4].sentence }}\",\n      \"ko_sentence\": \"{{ $json.message.content.conversation[4].ko_sentence }}\",\n      \"character_name\": \"{{ $json.message.content.conversation[4].charactor_name }}\",\n \"gender\": \"{{ $json.message.content.conversation[4].gender }}\",\n      \"audio_path\": \"tts/{{ $json.message.content.conversation[4].sentence.replace(/[^a-z0-9 ]/g, '').replace(/\\s+/g, '_') }}.mp3\"\n    },\n    {\n      \"index\": 5,\n      \"sentence\": \"{{ $json.message.content.conversation[5].sentence }}\",\n      \"ko_sentence\": \"{{ $json.message.content.conversation[5].ko_sentence }}\",\n      \"character_name\": \"{{ $json.message.content.conversation[5].charactor_name }}\",\n \"gender\": \"{{ $json.message.content.conversation[5].gender }}\",\n      \"audio_path\": \"tts/{{ $json.message.content.conversation[5].sentence.replace(/[^a-z0-9 ]/g, '').replace(/\\s+/g, '_') }}.mp3\"\n    }\n  ]\n}\n",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1280,
        0
      ],
      "id": "25c61518-9c8d-4561-93df-75e454fef2bc",
      "name": "문장/블록 데이터셋"
    },
    {
      "parameters": {
        "fieldToSplitOut": "dataset",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        1500,
        0
      ],
      "id": "9ed5b060-a94b-4cf6-a751-bbbb99a1ccb8",
      "name": "Split Out"
    },
    {
      "parameters": {
        "method": "PATCH",
        "url": "=https://api.notion.com/v1/blocks/{{ $('블록 변수 추가 설정').item.json.blocks.ko_block }}",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "notionApi",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n    \"object\": \"block\",\n    \"type\": \"paragraph\",\n    \"paragraph\": {\n        \"rich_text\": [\n            {\n                \"type\": \"text\",\n                \"text\": {\n                    \"content\": \"{{ $('블록 변수 추가 설정').item.json.ko_sentence }}\"\n                },\n                \"annotations\": {\n                    \"color\": \"gray\",\n                    \"italic\": true\n                }\n            }\n        ]\n    }\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        2760,
        0
      ],
      "id": "74281c16-d074-440d-b207-449b3abcc40d",
      "name": "한글의미 작성",
      "credentials": {
        "notionApi": {
          "id": "FEo13JNZ2GtAIPQz",
          "name": "Notion Dante Account"
        }
      }
    },
    {
      "parameters": {
        "options": {
          "reset": false
        }
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        1760,
        0
      ],
      "id": "fb367f06-f43e-4afd-8c49-318a8f302c3d",
      "name": "문장 생성 루프"
    },
    {
      "parameters": {
        "method": "PATCH",
        "url": "=https://api.notion.com/v1/blocks/{{ $('블록 변수 추가 설정').item.json.blocks.en_block }}",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "notionApi",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n    \"object\": \"block\",\n    \"type\": \"paragraph\",\n    \"paragraph\": {\n        \"rich_text\": [\n            {\n                \"type\": \"text\",\n                \"text\": {\n                    \"content\": \"{{ $('블록 변수 추가 설정').item.json.sentence }}\"\n                }\n            }\n        ]\n    }\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        2500,
        0
      ],
      "id": "012979e7-174f-4ca2-84c5-b70838411d0d",
      "name": "영문 작성",
      "credentials": {
        "notionApi": {
          "id": "FEo13JNZ2GtAIPQz",
          "name": "Notion Dante Account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        1500,
        1120
      ],
      "id": "3c44e365-2b71-4081-b9d8-161bc73a8380",
      "name": "Loop Over Items1"
    },
    {
      "parameters": {
        "fieldToSplitOut": "message.content.words",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        1280,
        1120
      ],
      "id": "51c72abb-3d7c-4510-8a62-3b4fda8f1488",
      "name": "Split Out1"
    },
    {
      "parameters": {
        "resource": "databasePage",
        "databaseId": {
          "__rl": true,
          "value": "={{ $('노션 블록 정보').item.json.database.vocabulary }}",
          "mode": "id"
        },
        "title": "=듣기",
        "propertiesUi": {
          "propertyValues": [
            {
              "key": "단어|title",
              "title": "={{ $('Loop Over Items1').item.json.en }}"
            },
            {
              "key": "뜻|rich_text",
              "textContent": "={{ $('Loop Over Items1').item.json.ko }}"
            },
            {
              "key": "예문|rich_text",
              "textContent": "={{ $('Loop Over Items1').item.json.example }}"
            },
            {
              "key": "동의어|rich_text",
              "textContent": "={{ $('Loop Over Items1').item.json.synonym.join(\", \") }}"
            },
            {
              "key": "발음 듣기|files",
              "fileUrls": {
                "fileUrl": [
                  {
                    "name": "=듣기",
                    "url": "={{ $('영단어 오디오 생성').item.json.audio_url }}"
                  }
                ]
              }
            }
          ]
        },
        "blockUi": {
          "blockValues": [
            {
              "type": "image",
              "url": "={{ $json.image_url }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.notion",
      "typeVersion": 2.2,
      "position": [
        2280,
        1120
      ],
      "id": "74fde47e-3698-4a7a-9672-831fadf23dbe",
      "name": "영단어 데이터 저장",
      "credentials": {
        "notionApi": {
          "id": "FEo13JNZ2GtAIPQz",
          "name": "Notion Dante Account"
        }
      }
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "TQgbREzUhoW6PsRC",
          "mode": "list",
          "cachedResultName": "구글슬라이드 단어카드생성"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "keyword": "={{ $('Loop Over Items1').item.json.en }}",
            "pageId": "p",
            "objectId": "i0"
          },
          "matchingColumns": [
            "keyword"
          ],
          "schema": [
            {
              "id": "keyword",
              "displayName": "keyword",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "pageId",
              "displayName": "pageId",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "objectId",
              "displayName": "objectId",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.2,
      "position": [
        2020,
        1120
      ],
      "id": "2958f619-f77b-49f4-89f0-5c7e8aa0bf34",
      "name": "단어카드 이미지생성"
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "GPT-4O-MINI"
        },
        "messages": {
          "values": [
            {
              "content": "=너는 영어를 가르치는 뛰어난 교사야.\n영어의 수준은 중학생 수준에 맞춰서 교육자료를 준비해야해.\n다음 자료를 생성해야해.\n\n1. 영어권에서 다음 상황에서 자주 쓰이는 영어 phrase를 6개와 각각의 뜻.\n2. phrase를 활용한 대화 시나리오 총 6개 영문장과 한국어 번역(주고받는 대화). \n3. 각 대화문에는 역할명 혹은 인물명을 부여해줘.\n4. 대화는 설정된 대화 컨셉에 맞는 성별과 성별에 맞는 이름이 설정되어야 함. 성별 필드에 male, female 을 기입.\n5. 성별 필드에 male, female 을 맞게 넣어줘. 단, 반드시 다른 성별일 필요는 없어. 대화 내용에 맞게 성별을 선택해주면되.\n6. 대화에서 쓰인 단어에서 공부하기에 좋은 단어 6개를 뽑아서, 단어, 의미, 예문, 유의어를 정리.\n\n다른 설명은 하지 말고, 요청에 대한 답변만 응답형식(Json)에 맞춰 작성해줘.\n\n* 생성 요청하는 시나리오 상황 :  {{ $json.callout.rich_text[0].plain_text }}\n* 응답 형식 : \n{\n  \"phrase\": [\n    {\"phrase\": \"phrase example1...\", \"ko_meaning\" : \"한글의미1\"},\n    {\"phrase\": \"phrase example2...\", \"ko_meaning\" : \"한글의미2\"},\n    {\"phrase\": \"phrase example3...\", \"ko_meaning\" : \"한글의미3\"},\n    ...\n   \n    ],\n  \"conversation\": [\n    {\"charactor_name\" : \"영문인물명1\", \"gender\": \"female\", \"sentence\" : \"문장1\", \"ko_sentence\" : \"한글문장1\"},\n    {\"charactor_name\" : \"영문인물명2\", \"gender\": \"male\", \"sentence\" : \"문장2\", \"ko_sentence\" : \"한글문장2\"},\n    {\"charactor_name\" : \"영문인물명1\", \"gender\": \"female\", \"sentence\" : \"문장3\", \"ko_sentence\" : \"한글문장3\"},\n    ...\n  ],\n  \"words\": [\n    {\"en\" : \"영단어\", \"ko\": \"한글의미\", \"example\" : \"...\", \"synonym\" : [\"단어1\", \"단어2\", ...\"]},\n    ...\n  ]\n}\n\njson 파싱에 주의해줘."
            }
          ]
        },
        "jsonOutput": "={{ true }}",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        780,
        0
      ],
      "id": "e70db291-9f5d-4dfb-a52e-a75ee80c7c1c",
      "name": "영어컨텐츠생성",
      "credentials": {
        "openAiApi": {
          "id": "sr8FgdX5gzQ6wZD9",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "GPT-4O-MINI"
        },
        "messages": {
          "values": [
            {
              "content": "=다음 상황에 맞는 이미지를 생성하는 프롬프트를 만들고 싶어. \n이미지는 영어회화 교과서 만화 삽화 스타일로 귀여운 일러스트 스타일의 프롬프트를 생성해줘. \n대화하는 인물들이 등장하는 상황묘사 글이야. \n다만 말풍선 텍스트를 생성하지 않도록 프롬프트에 명시해줘.\n출력형식에 맞게 json으로 출력해줘. \n프롬프트 외에 다른 설명은 하지말고 상황을 묘사하는 프롬프트만 출력해줘.\n상황 : {{ $('생성 상태 입력').item.json.callout.rich_text[0].text.content }}\n대화 : {{ $json.message.content.conversation.map(conv => conv.sentence).join(\"\\\\n\") }}\n\n출력형식 : {\n  \"prompt\" : \"....\"\n}"
            }
          ]
        },
        "jsonOutput": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        1280,
        -320
      ],
      "id": "19d83374-2cd3-47e3-ab1a-81e6a8c2c956",
      "name": "이미지 프롬프트 생성",
      "credentials": {
        "openAiApi": {
          "id": "sr8FgdX5gzQ6wZD9",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "fieldToSplitOut": "message.content.phrase",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        1280,
        740
      ],
      "id": "0639b4db-d73f-4715-98e3-239c6e75c94f",
      "name": "Split Out2"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        1500,
        740
      ],
      "id": "52dc9fa5-2978-4b01-bf33-f320b00fa35c",
      "name": "Loop Over Items2"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "TQgbREzUhoW6PsRC",
          "mode": "list",
          "cachedResultName": "구글슬라이드 단어카드생성"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "keyword": "={{ $('Loop Over Items2').item.json.phrase }}",
            "pageId": "g3388e6aa42b_0_59",
            "objectId": "g3388e6aa42b_0_63"
          },
          "matchingColumns": [
            "keyword"
          ],
          "schema": [
            {
              "id": "keyword",
              "displayName": "keyword",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "pageId",
              "displayName": "pageId",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "objectId",
              "displayName": "objectId",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.2,
      "position": [
        2020,
        740
      ],
      "id": "6a22548c-b95a-4ead-a6b6-53f2a5cb0e07",
      "name": "표현카드 이미지생성"
    },
    {
      "parameters": {
        "resource": "databasePage",
        "databaseId": {
          "__rl": true,
          "value": "={{ $('노션 블록 정보').item.json.database.phrase }}",
          "mode": "id"
        },
        "title": "={{ $('Loop Over Items2').item.json.phrase }}",
        "propertiesUi": {
          "propertyValues": [
            {
              "key": "문장|title",
              "title": "={{ $('Loop Over Items2').item.json.phrase }}"
            },
            {
              "key": "뜻|rich_text",
              "textContent": "={{ $('Loop Over Items2').item.json.ko_meaning }}"
            },
            {
              "key": "발음 듣기|files",
              "fileUrls": {
                "fileUrl": [
                  {
                    "name": "듣기",
                    "url": "={{ $('영어표현 오디오 생성').item.json.audio_url }}"
                  }
                ]
              }
            }
          ]
        },
        "blockUi": {
          "blockValues": [
            {
              "type": "image",
              "url": "={{ $json.image_url }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.notion",
      "typeVersion": 2.2,
      "position": [
        2280,
        740
      ],
      "id": "6ede2347-1613-4268-b3e8-1acd45585b8f",
      "name": "영어표현 데이터 저장",
      "credentials": {
        "notionApi": {
          "id": "FEo13JNZ2GtAIPQz",
          "name": "Notion Dante Account"
        }
      }
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "hV2qGaBm231yuRyG",
          "mode": "list",
          "cachedResultName": "오디오 생성"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "speed": 0.8,
            "phrase": "={{ $json.en }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "phrase",
              "displayName": "phrase",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            },
            {
              "id": "speed",
              "displayName": "speed",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "number"
            },
            {
              "id": "voice",
              "displayName": "voice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.2,
      "position": [
        1760,
        1120
      ],
      "id": "8d139f69-50b6-4a94-8491-300be8d42910",
      "name": "영단어 오디오 생성"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "v7gEEs5URSEIvwrI",
          "mode": "list",
          "cachedResultName": "노션DB 비우기"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "databaseId": "={{ $('노션 블록 정보').item.json.database.phrase }}"
          },
          "matchingColumns": [
            "databaseId"
          ],
          "schema": [
            {
              "id": "databaseId",
              "displayName": "databaseId",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.2,
      "position": [
        1280,
        400
      ],
      "id": "73f15aab-cbe5-45f3-9fe7-e127f0a346b2",
      "name": "영어표현 비우기"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "v7gEEs5URSEIvwrI",
          "mode": "list",
          "cachedResultName": "노션DB 비우기"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "databaseId": "={{ $('노션 블록 정보').item.json.database.vocabulary }}"
          },
          "matchingColumns": [
            "databaseId"
          ],
          "schema": [
            {
              "id": "databaseId",
              "displayName": "databaseId",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.2,
      "position": [
        1460,
        400
      ],
      "id": "28d8650d-d0f3-4f87-a79e-03d65fee965a",
      "name": "영단어DB 비우기"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "hV2qGaBm231yuRyG",
          "mode": "list",
          "cachedResultName": "오디오 생성"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "phrase": "={{ $json.phrase }}",
            "speed": 0
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "phrase",
              "displayName": "phrase",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            },
            {
              "id": "speed",
              "displayName": "speed",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "number"
            },
            {
              "id": "voice",
              "displayName": "voice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.2,
      "position": [
        1760,
        740
      ],
      "id": "b833bf66-4c49-4c5b-a26c-bfc98f3a501e",
      "name": "영어표현 오디오 생성"
    },
    {
      "parameters": {
        "url": "=https://api.notion.com/v1/blocks/{{ $('노션 블록 정보').item.json.request }}",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "notionApi",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        560,
        0
      ],
      "id": "454cb75a-94ff-4a14-96e9-90422a415ebb",
      "name": "사용자 요청 상황 읽기",
      "credentials": {
        "notionApi": {
          "id": "FEo13JNZ2GtAIPQz",
          "name": "Notion Dante Account"
        }
      }
    },
    {
      "parameters": {
        "method": "PATCH",
        "url": "=https://api.notion.com/v1/blocks/{{ $json.status }}",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "notionApi",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n    \"paragraph\": {\n        \"rich_text\": [\n            {\n                \"type\": \"text\",\n                \"text\": {\n                    \"content\": \"생성중..\"\n                },\n                \"annotations\": {\n                    \"italic\": true,\n                    \"color\": \"blue\",\n                    \"bold\": false,\n                    \"strikethrough\": false,\n                    \"underline\": false,\n                    \"code\": false\n                }\n            }\n        ]\n    }\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        340,
        0
      ],
      "id": "cd460c1a-b7c2-4f9f-a1f5-dadabc2df7a1",
      "name": "생성 상태 입력",
      "credentials": {
        "notionApi": {
          "id": "FEo13JNZ2GtAIPQz",
          "name": "Notion Dante Account"
        }
      }
    },
    {
      "parameters": {
        "method": "PATCH",
        "url": "https://api.notion.com/v1/blocks/1ba51d77094e80f99a9ceb755b37cf47",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "notionApi",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n    \"paragraph\": {\n        \"rich_text\": [\n            {\n                \"type\": \"text\",\n                \"text\": {\n                    \"content\": \"생성완료!\"\n                },\n                \"annotations\": {\n                    \"italic\": true,\n                    \"color\": \"blue\",\n                    \"bold\": false,\n                    \"strikethrough\": false,\n                    \"underline\": false,\n                    \"code\": false\n                }\n            }\n        ]\n    }\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1280,
        1420
      ],
      "id": "6d58fcb7-78b7-4cfb-ac2e-6a1f15fcf724",
      "name": "생성 완료 입력",
      "credentials": {
        "notionApi": {
          "id": "FEo13JNZ2GtAIPQz",
          "name": "Notion Dante Account"
        }
      }
    },
    {
      "parameters": {
        "content": "## 노션 데이터베이스 초기화",
        "height": 80,
        "width": 300,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1280,
        300
      ],
      "id": "ea7f0d6b-3c24-429c-8fc2-7ec16c367e2c",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "content": "## 주요 영어 표현 미디어생성",
        "height": 80,
        "width": 300,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1280,
        640
      ],
      "id": "51cef7d3-65dc-48f2-8cc1-67c2f18ec653",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "content": "## 영단어 미디어생성",
        "height": 80,
        "width": 300,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1280,
        1000
      ],
      "id": "3a81176e-54fa-4387-805c-4a745bf4b27f",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "content": "## 대화문 생성",
        "height": 80,
        "width": 300,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1280,
        -100
      ],
      "id": "7b83c5c3-baa9-4dde-9734-f486eee731f5",
      "name": "Sticky Note3"
    },
    {
      "parameters": {
        "method": "PATCH",
        "url": "=https://api.notion.com/v1/blocks/{{ $json.blocks.name_block }}",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "notionApi",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"callout\": {\n    \"rich_text\": [\n        {\n          \"type\": \"text\",\n          \"text\" : {\n            \"content\" : \"{{ $json.character_name }}\"\n          },\n          \"annotations\": {\n            \"bold\": true,\n            \"color\": \"{{ $json.gender == \"female\" ? \"red\" : \"blue\" }}\"\n          }\n        }\n    ],\n    \"icon\": {\n      \"type\": \"emoji\",\n      \"emoji\": \"{{ $json.gender == \"female\" ? \"👩🏻\" : \"👱🏻‍♂️\" }}\" \n    },\n    \"color\": \"{{ $json.index % 2 == 0 ? \"yellow_background\": \"blue_background\" }}\"\n  }\n} ",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        2260,
        0
      ],
      "id": "d7cc1283-d0ef-4ad7-8cd9-5fba5b0a21ef",
      "name": "캐릭터 이름 / 아바타 생성",
      "credentials": {
        "notionApi": {
          "id": "FEo13JNZ2GtAIPQz",
          "name": "Notion Dante Account"
        }
      }
    },
    {
      "parameters": {
        "content": "## 일러스트 생성",
        "height": 80,
        "width": 300,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1280,
        -420
      ],
      "id": "537d5af6-4c0c-469a-b333-afda568c4aa8",
      "name": "Sticky Note4",
      "disabled": true
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "{\n  \"request\" : \"1b851d77094e80d6b8c6c258c2d557f3\",\n  \"status\" : \"1ba51d77094e80f99a9ceb755b37cf47\",\n  \"illustration\" : \"1b951d77094e800f9122cd95dc92089f\",\n  \"qrcode\" : \"1bb51d77094e807b9621c800c16105b4\",\n  \"conversation\": [\n    {\n\n      \"name_block\": \"1b851d77094e80cd994bdb305033bf7d\",\n      \"en_block\": \"1b951d77094e80a098dafc87d85ec837\",\n      \"ko_block\": \"1b951d77094e8001983acd0f548f059c\",\n      \"audio_block\": \"1b951d77094e8026b52df42abeba7a64\"\n    },\n    { \n\n      \"name_block\": \"1b851d77094e802e896ce7b793852040\",\n      \"en_block\": \"1b951d77094e80359dccfa0926c1aca8\",\n      \"ko_block\": \"1b951d77094e802fadbbc0fbb4a15b8a\",\n      \"audio_block\": \"1b951d77094e804a920ee6d408ec2c79\"\n    },\n    {\n      \"name_block\": \"1b851d77094e801da4fac490c5b88238\",\n      \"en_block\": \"1b951d77094e80938578f7d938c30a75\",\n      \"ko_block\": \"1b951d77094e80a1bff4f629df2b1796\",\n      \"audio_block\": \"1b951d77094e80b0ace5ff31b7f0f265\"\n    },\n    {\n      \"name_block\": \"1b851d77094e80759861cfb331fd9ea2\",\n      \"en_block\": \"1b951d77094e8080a26bdc80f22f617e\",\n      \"ko_block\": \"1b951d77094e80858d37d63ffa470d1a\",\n      \"audio_block\": \"1b951d77094e802cb6c2eb6df6a58961\"\n    },\n    {\n      \"name_block\": \"1b851d77094e80928cb5e76db520d114\",\n      \"en_block\": \"1b951d77094e8039bf7cdff05dc7a75d\",\n      \"ko_block\": \"1b951d77094e80e29b58e5b2780da642\",\n      \"audio_block\": \"1b951d77094e80008239ce559bf740bf\"\n    },\n    {\n      \"name_block\": \"1b851d77094e80a5a1d3cf3644108439\",\n      \"en_block\": \"1b951d77094e803893c5ef1b279292ce\",\n      \"ko_block\": \"1b951d77094e8119822be185c1e63115\",\n      \"audio_block\": \"1b951d77094e808a9a29ee00823651cc\"\n    }\n  ],\n  \"database\": {\n        \"vocabulary\": \"1b951d77094e8090a73fc8782efb0276\",\n        \"phrase\": \"1ba51d77094e80ae9e43dfb00e1ab501\"\n    }\n}\n",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        120,
        0
      ],
      "id": "a4a43a75-d1e5-42f1-b0c6-6dce4c6c440d",
      "name": "노션 블록 정보"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -100,
        200
      ],
      "id": "394a0257-c1b4-47a5-a85e-5a416ede573e",
      "name": "테스트하기"
    },
    {
      "parameters": {
        "multipleMethods": true,
        "httpMethod": [
          "POST"
        ],
        "path": "63364a22-56cd-4792-b346-5a6e88cdc297",
        "authentication": "headerAuth",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        -100,
        0
      ],
      "id": "38ead35c-fd84-4168-83ff-1defe1260751",
      "name": "노션 버튼 웹훅 수신",
      "webhookId": "63364a22-56cd-4792-b346-5a6e88cdc297",
      "credentials": {
        "httpHeaderAuth": {
          "id": "GL5GFjOgbdzymSle",
          "name": "English Dialog Webhook Auth"
        }
      },
      "disabled": true
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "sd8kr2LYSRGnSQsc",
          "mode": "list",
          "cachedResultName": "이미지 생성기"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "aspect_ratio": "1:1",
            "output_quality": 80,
            "prompt": "={{ $json.message.content.prompt }} no text, no words, no letters, no writing, no characters, textless"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "aspect_ratio",
              "displayName": "aspect_ratio",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            },
            {
              "id": "prompt",
              "displayName": "prompt",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            },
            {
              "id": "output_quality",
              "displayName": "output_quality",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "number"
            },
            {
              "id": "checkExistsUrl",
              "displayName": "checkExistsUrl",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.2,
      "position": [
        1680,
        -320
      ],
      "id": "17307818-aab5-41d3-aa6c-40a1b5c604a7",
      "name": "상황 이미지 생성"
    },
    {
      "parameters": {
        "method": "PATCH",
        "url": "=https://api.notion.com/v1/blocks/{{ $('노션 블록 정보').item.json.illustration }}",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "notionApi",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n    \"type\": \"image\",\n    \"image\": {\n        \"external\": {\n            \"url\": \"{{ $json.image_url }}\"\n        }\n    }\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1940,
        -320
      ],
      "id": "f9d3063d-d494-43a4-aed7-d03358f1b72e",
      "name": "이미지 블록 생성",
      "credentials": {
        "notionApi": {
          "id": "FEo13JNZ2GtAIPQz",
          "name": "Notion Dante Account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "d07949c9-8333-4c1a-be27-e1da3fe46630",
              "name": "blocks",
              "value": "={{ $('노션 블록 정보').item.json.conversation[ $json.index] }}",
              "type": "object"
            }
          ]
        },
        "includeOtherFields": true,
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        2020,
        0
      ],
      "id": "1cd7b269-2023-49ec-b6c9-88abc3c0b5cc",
      "name": "블록 변수 추가 설정"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "hV2qGaBm231yuRyG",
          "mode": "list",
          "cachedResultName": "오디오 생성"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "phrase": "={{ $('블록 변수 추가 설정').item.json.sentence }}",
            "voice": "={{ $('블록 변수 추가 설정').item.json.gender === \"female\" ? \"nova\" : \"echo\" }}",
            "speed": 1
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "phrase",
              "displayName": "phrase",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            },
            {
              "id": "speed",
              "displayName": "speed",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "number"
            },
            {
              "id": "voice",
              "displayName": "voice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.2,
      "position": [
        3020,
        0
      ],
      "id": "e7040ee8-41d4-4569-857b-525067eef821",
      "name": "대화문 오디오 생성"
    },
    {
      "parameters": {
        "method": "PATCH",
        "url": "=https://api.notion.com/v1/blocks/{{ $('블록 변수 추가 설정').item.json.blocks.audio_block }}",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "notionApi",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n    \"object\": \"block\",\n    \"type\": \"audio\",\n    \"audio\": {\n        \"external\": {\n            \"url\": \"{{ $json.audio_url }}\"\n        }\n    }\n} ",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        3280,
        0
      ],
      "id": "3356bb7c-6b9a-495a-9f8e-6612d59bdf2d",
      "name": "대화문 오디오 블록 생성",
      "credentials": {
        "notionApi": {
          "id": "FEo13JNZ2GtAIPQz",
          "name": "Notion Dante Account"
        }
      }
    },
    {
      "parameters": {
        "resource": "audio",
        "input": "={{ $('블록 변수 추가 설정').item.json.sentence }}",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        3040,
        -180
      ],
      "id": "b276ddff-c299-461d-aba6-5f1fde0e4ea6",
      "name": "OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "sr8FgdX5gzQ6wZD9",
          "name": "OpenAi account"
        }
      }
    }
  ],
  "pinData": {
    "노션 블록 정보": [
      {
        "json": {
          "request": "1b851d77094e80d6b8c6c258c2d557f3",
          "status": "1ba51d77094e80f99a9ceb755b37cf47",
          "illustration": "1b951d77094e800f9122cd95dc92089f",
          "qrcode": "1bb51d77094e807b9621c800c16105b4",
          "conversation": [
            {
              "name_block": "1b851d77094e80cd994bdb305033bf7d",
              "en_block": "1b951d77094e80a098dafc87d85ec837",
              "ko_block": "1b951d77094e8001983acd0f548f059c",
              "audio_block": "1b951d77094e8026b52df42abeba7a64"
            },
            {
              "name_block": "1b851d77094e802e896ce7b793852040",
              "en_block": "1b951d77094e80359dccfa0926c1aca8",
              "ko_block": "1b951d77094e802fadbbc0fbb4a15b8a",
              "audio_block": "1b951d77094e804a920ee6d408ec2c79"
            },
            {
              "name_block": "1b851d77094e801da4fac490c5b88238",
              "en_block": "1b951d77094e80938578f7d938c30a75",
              "ko_block": "1b951d77094e80a1bff4f629df2b1796",
              "audio_block": "1b951d77094e80b0ace5ff31b7f0f265"
            },
            {
              "name_block": "1b851d77094e80759861cfb331fd9ea2",
              "en_block": "1b951d77094e8080a26bdc80f22f617e",
              "ko_block": "1b951d77094e80858d37d63ffa470d1a",
              "audio_block": "1b951d77094e802cb6c2eb6df6a58961"
            },
            {
              "name_block": "1b851d77094e80928cb5e76db520d114",
              "en_block": "1b951d77094e8039bf7cdff05dc7a75d",
              "ko_block": "1b951d77094e80e29b58e5b2780da642",
              "audio_block": "1b951d77094e80008239ce559bf740bf"
            },
            {
              "name_block": "1b851d77094e80a5a1d3cf3644108439",
              "en_block": "1b951d77094e803893c5ef1b279292ce",
              "ko_block": "1b951d77094e8119822be185c1e63115",
              "audio_block": "1b951d77094e808a9a29ee00823651cc"
            }
          ],
          "database": {
            "vocabulary": "1b951d77094e8090a73fc8782efb0276",
            "phrase": "1ba51d77094e80ae9e43dfb00e1ab501"
          }
        }
      }
    ],
    "생성 상태 입력": [
      {
        "json": {
          "object": "block",
          "id": "1ba51d77-094e-80f9-9a9c-eb755b37cf47",
          "parent": {
            "type": "block_id",
            "block_id": "1b951d77-094e-80af-9198-cc26ec4cd539"
          },
          "created_time": "2025-03-18T11:42:00.000Z",
          "last_edited_time": "2025-03-28T06:14:00.000Z",
          "created_by": {
            "object": "user",
            "id": "3955a33b-7181-4bd8-931f-1c3cbb68ff86"
          },
          "last_edited_by": {
            "object": "user",
            "id": "48a7a999-61b0-434d-aea5-8d8ea3a73815"
          },
          "has_children": false,
          "archived": false,
          "in_trash": false,
          "type": "paragraph",
          "paragraph": {
            "rich_text": [
              {
                "type": "text",
                "text": {
                  "content": "생성중..",
                  "link": null
                },
                "annotations": {
                  "bold": false,
                  "italic": true,
                  "strikethrough": false,
                  "underline": false,
                  "code": false,
                  "color": "blue"
                },
                "plain_text": "생성중..",
                "href": null
              }
            ],
            "color": "default"
          },
          "request_id": "19ae5c6a-0463-40d7-bd03-0f225797425c"
        }
      }
    ],
    "사용자 요청 상황 읽기": [
      {
        "json": {
          "object": "block",
          "id": "1b851d77-094e-80d6-b8c6-c258c2d557f3",
          "parent": {
            "type": "block_id",
            "block_id": "1b951d77-094e-8064-a1c0-c544e956c30f"
          },
          "created_time": "2025-03-16T11:40:00.000Z",
          "last_edited_time": "2025-03-17T13:25:00.000Z",
          "created_by": {
            "object": "user",
            "id": "3955a33b-7181-4bd8-931f-1c3cbb68ff86"
          },
          "last_edited_by": {
            "object": "user",
            "id": "3955a33b-7181-4bd8-931f-1c3cbb68ff86"
          },
          "has_children": false,
          "archived": false,
          "in_trash": false,
          "type": "callout",
          "callout": {
            "rich_text": [
              {
                "type": "text",
                "text": {
                  "content": "동물원에 가서 딸과 아빠가 동물을 보며 이야기를 나누는 장면",
                  "link": null
                },
                "annotations": {
                  "bold": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false,
                  "code": false,
                  "color": "default"
                },
                "plain_text": "동물원에 가서 딸과 아빠가 동물을 보며 이야기를 나누는 장면",
                "href": null
              }
            ],
            "icon": {
              "type": "custom_emoji",
              "custom_emoji": {
                "id": "1b851d77-094e-80b8-9041-007a48e5f137",
                "name": "text",
                "url": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/183c0421-7ea8-43af-8eb8-68938921954c/free-icon-font-167502.png"
              }
            },
            "color": "gray_background"
          },
          "request_id": "c46f3ea5-d752-4497-8c67-6f3f34042e3a"
        }
      }
    ],
    "영어컨텐츠생성": [
      {
        "json": {
          "index": 0,
          "message": {
            "role": "assistant",
            "content": {
              "phrase": [
                {
                  "phrase": "Look at that!",
                  "ko_meaning": "저걸 봐!"
                },
                {
                  "phrase": "What do you think?",
                  "ko_meaning": "너는 어떻게 생각해?"
                },
                {
                  "phrase": "It's so cute!",
                  "ko_meaning": "너무 귀여워!"
                },
                {
                  "phrase": "Can we go closer?",
                  "ko_meaning": "더 가까이 갈 수 있을까?"
                },
                {
                  "phrase": "I love this animal!",
                  "ko_meaning": "이 동물이 너무 좋아!"
                },
                {
                  "phrase": "Let's take a picture!",
                  "ko_meaning": "사진을 찍자!"
                }
              ],
              "conversation": [
                {
                  "charactor_name": "Lily",
                  "gender": "female",
                  "sentence": "Look at that! The giraffe is so tall!",
                  "ko_sentence": "저걸 봐! 기린이 너무 길어!"
                },
                {
                  "charactor_name": "John",
                  "gender": "male",
                  "sentence": "What do you think about it, Lily?",
                  "ko_sentence": "그것에 대해 어떻게 생각해, 릴리?"
                },
                {
                  "charactor_name": "Lily",
                  "gender": "female",
                  "sentence": "It's so cute! I want to feed it.",
                  "ko_sentence": "너무 귀여워! 나는 그걸 먹여주고 싶어."
                },
                {
                  "charactor_name": "John",
                  "gender": "male",
                  "sentence": "Can we go closer to the enclosure?",
                  "ko_sentence": "우리 그 우리에 더 가까이 갈 수 있을까?"
                },
                {
                  "charactor_name": "Lily",
                  "gender": "female",
                  "sentence": "I love this animal! It's my favorite!",
                  "ko_sentence": "이 동물이 너무 좋아! 내가 가장 좋아하는 동물이야!"
                },
                {
                  "charactor_name": "John",
                  "gender": "male",
                  "sentence": "Let's take a picture with it!",
                  "ko_sentence": "그것과 함께 사진을 찍자!"
                }
              ],
              "words": [
                {
                  "en": "giraffe",
                  "ko": "기린",
                  "example": "The giraffe has a long neck.",
                  "synonym": [
                    "animal",
                    "mammal"
                  ]
                },
                {
                  "en": "cute",
                  "ko": "귀여운",
                  "example": "That puppy is so cute!",
                  "synonym": [
                    "adorable",
                    "charming"
                  ]
                },
                {
                  "en": "enclosure",
                  "ko": "우리",
                  "example": "The lions are in the large enclosure.",
                  "synonym": [
                    "cage",
                    "pen"
                  ]
                },
                {
                  "en": "feed",
                  "ko": "먹이다",
                  "example": "Can you feed the ducks?",
                  "synonym": [
                    "nourish",
                    "give food to"
                  ]
                },
                {
                  "en": "favorite",
                  "ko": "가장 좋아하는",
                  "example": "My favorite color is blue.",
                  "synonym": [
                    "preferred",
                    "liked"
                  ]
                },
                {
                  "en": "picture",
                  "ko": "사진",
                  "example": "I took a picture of the sunset.",
                  "synonym": [
                    "photo",
                    "image"
                  ]
                }
              ]
            },
            "refusal": null,
            "annotations": []
          },
          "logprobs": null,
          "finish_reason": "stop"
        }
      }
    ]
  },
  "connections": {
    "문장/블록 데이터셋": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "문장 생성 루프",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "한글의미 작성": {
      "main": [
        [
          {
            "node": "대화문 오디오 생성",
            "type": "main",
            "index": 0
          },
          {
            "node": "OpenAI",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "문장 생성 루프": {
      "main": [
        [],
        [
          {
            "node": "블록 변수 추가 설정",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "영문 작성": {
      "main": [
        [
          {
            "node": "한글의미 작성",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items1": {
      "main": [
        [],
        [
          {
            "node": "영단어 오디오 생성",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out1": {
      "main": [
        [
          {
            "node": "Loop Over Items1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "영단어 데이터 저장": {
      "main": [
        [
          {
            "node": "Loop Over Items1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "단어카드 이미지생성": {
      "main": [
        [
          {
            "node": "영단어 데이터 저장",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "영어컨텐츠생성": {
      "main": [
        [
          {
            "node": "Split Out1",
            "type": "main",
            "index": 0
          },
          {
            "node": "문장/블록 데이터셋",
            "type": "main",
            "index": 0
          },
          {
            "node": "Split Out2",
            "type": "main",
            "index": 0
          },
          {
            "node": "영어표현 비우기",
            "type": "main",
            "index": 0
          },
          {
            "node": "이미지 프롬프트 생성",
            "type": "main",
            "index": 0
          },
          {
            "node": "영단어DB 비우기",
            "type": "main",
            "index": 0
          },
          {
            "node": "생성 완료 입력",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "이미지 프롬프트 생성": {
      "main": [
        [
          {
            "node": "상황 이미지 생성",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out2": {
      "main": [
        [
          {
            "node": "Loop Over Items2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items2": {
      "main": [
        [],
        [
          {
            "node": "영어표현 오디오 생성",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "표현카드 이미지생성": {
      "main": [
        [
          {
            "node": "영어표현 데이터 저장",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "영어표현 데이터 저장": {
      "main": [
        [
          {
            "node": "Loop Over Items2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "영단어 오디오 생성": {
      "main": [
        [
          {
            "node": "단어카드 이미지생성",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "영어표현 비우기": {
      "main": [
        []
      ]
    },
    "영어표현 오디오 생성": {
      "main": [
        [
          {
            "node": "표현카드 이미지생성",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "영단어DB 비우기": {
      "main": [
        []
      ]
    },
    "사용자 요청 상황 읽기": {
      "main": [
        [
          {
            "node": "영어컨텐츠생성",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "생성 상태 입력": {
      "main": [
        [
          {
            "node": "사용자 요청 상황 읽기",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "캐릭터 이름 / 아바타 생성": {
      "main": [
        [
          {
            "node": "영문 작성",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "노션 블록 정보": {
      "main": [
        [
          {
            "node": "생성 상태 입력",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "테스트하기": {
      "main": [
        [
          {
            "node": "노션 블록 정보",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "노션 버튼 웹훅 수신": {
      "main": [
        [
          {
            "node": "노션 블록 정보",
            "type": "main",
            "index": 0
          }
        ],
        []
      ]
    },
    "상황 이미지 생성": {
      "main": [
        [
          {
            "node": "이미지 블록 생성",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "블록 변수 추가 설정": {
      "main": [
        [
          {
            "node": "캐릭터 이름 / 아바타 생성",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "대화문 오디오 생성": {
      "main": [
        [
          {
            "node": "대화문 오디오 블록 생성",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "대화문 오디오 블록 생성": {
      "main": [
        [
          {
            "node": "문장 생성 루프",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "01999b42-0023-4d8d-a3b7-ff98ef2b8d8b",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "e131a0b3d674cc8b6219599c9074a25bb97049aa77f632e3e3b9cee34a5caef6"
  },
  "id": "U5UvA4HwCWDUiqUz",
  "tags": [
    {
      "createdAt": "2025-03-19T00:58:37.383Z",
      "updatedAt": "2025-03-19T00:58:37.383Z",
      "id": "bI9TsEf2xPud61jF",
      "name": "영어교육"
    }
  ]
}